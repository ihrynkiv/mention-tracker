<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Ö–∞–π–ª–æ –¢—Ä–µ–∫–µ—Ä</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî•</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="auth-section" id="authSection">
            <h1>üî• –ú–∏—Ö–∞–π–ª–æ –¢—Ä–µ–∫–µ—Ä</h1>
            <div class="auth-form">
                <input type="text" id="username" placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" required>
                <input type="password" id="password" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" required>
                <div class="auth-buttons">
                    <button onclick="login()">–£–≤—ñ–π—Ç–∏</button>
                    <button onclick="signup()">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
                </div>
            </div>
        </div>

        <div class="main-section" id="mainSection" style="display: none;">
            <div class="streak-counter">
                üî• <span id="streakCount">0</span> <span id="todayStatus">üò¥</span>
            </div>
            
            <nav class="tabs">
                <button class="tab-button active" onclick="showTab('tracking')">–¢—Ä–µ–∫—ñ–Ω–≥</button>
                <button class="tab-button" onclick="showTab('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                <button class="tab-button" onclick="showTab('achievements')">–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</button>
            </nav>

            <div class="tab-content" id="trackingTab">
                <div class="tracking-content">
                    <h2>–ó–≥–∞–¥–∞–ª–∏ –ú–∏—Ö–∞–π–ª–∞?</h2>
                    <button class="yes-button" onclick="recordMention()">–¢–∞–∫! üéâ</button>
                    <div id="cooldownMessage" class="cooldown-message" style="display: none;">
                        –¶–µ —á—É–¥–æ–≤–æ, —â–æ –≤–∏ –∑–≥–∞–¥—É—î—Ç–µ –ú–∏—Ö–∞–π–ª–∞ —Ç–∞–∫ —á–∞—Å—Ç–æ, –∞–ª–µ —Ä–∞—Ö—É—î–º–æ –Ω–µ –±—ñ–ª—å—à–µ –æ–¥–Ω—ñ—î—ó –∑–≥–∞–¥–∫–∏ –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω ‚è∞
                    </div>
                    <div id="dailyLegend" class="daily-legend">–ë—É–¥—å –ø–µ—Ä—à–æ—é —Ö—Ç–æ –∑–≥–∞–¥–∞–≤ —Å—å–æ–≥–æ–¥–Ω—ñ!</div>
                    <div id="fireworks" class="fireworks-container"></div>
                    <div id="successMessage" class="success-message"></div>
                </div>
            </div>

            <div class="tab-content" id="statsTab" style="display: none;">
                <div class="stats-content">
                    <div class="stats-header">
                        <h2>–ù–∞–π—á–∞—Å—Ç—ñ—à–µ –∑–≥–∞–¥—É—é—Ç—å:</h2>
                        <div class="stats-switcher">
                            <button class="switcher-btn active" onclick="switchStatsMode('allTime')">–£—Å—ñ –¥–Ω—ñ</button>
                            <button class="switcher-btn" onclick="switchStatsMode('today')">–°—å–æ–≥–æ–¥–Ω—ñ</button>
                        </div>
                    </div>
                    <div id="userStats" class="user-stats">
                        <div id="statsLoading" class="loading-indicator" style="display: none;">
                            <div class="loading-spinner"></div>
                            <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                        </div>
                    </div>
                    
                    <div class="charts-section">
                        <div class="chart-container">
                            <h3>–î–Ω—ñ –∑–≥–∞–¥—É–≤–∞–Ω–Ω—è –ú–∏—Ö–∞–π–ª–∞</h3>
                            <canvas id="dailyChart" width="700" height="300"></canvas>
                        </div>
                        
                        <div class="chart-container">
                            <h3>–ß–∞—Å –∑–≥–∞–¥—É–≤–∞–Ω–Ω—è –ú–∏—Ö–∞–π–ª–∞</h3>
                            <canvas id="hourlyChart" width="700" height="300"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="achievementsTab" style="display: none;">
                <div class="achievements-content">
                    <div class="achievements-header">
                        <h2>–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</h2>
                        <div class="achievement-switcher">
                            <button class="switcher-btn active" onclick="switchAchievements('global')">–ó–∞–≥–∞–ª—å–Ω—ñ</button>
                            <button class="switcher-btn" onclick="switchAchievements('personal')">–ú–æ—ó</button>
                        </div>
                    </div>
                    <div id="achievementsList" class="achievements-list"></div>
                </div>
            </div>

            <div class="user-info">
                –£–≤—ñ–π—à–ª–∏ —è–∫: <span id="currentUser"></span>
                <button onclick="logout()">–í–∏–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <script src="app.js"></script>
</body>
</html>